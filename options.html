<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>X-Proxy Options</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header" role="banner">
      <div class="header-content">
        <div class="logo">
          <img src="./icons/icon-48.png" alt="X-Proxy" />
          <h1>X-Proxy Settings</h1>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Sidebar Navigation -->
      <nav class="sidebar" role="navigation" aria-label="Main navigation">
        <ul class="nav-list" role="list">
          <li class="nav-item active" data-section="profiles" role="listitem" tabindex="0" aria-label="Proxy Profiles section" aria-current="page">
            <span class="icon" aria-hidden="true">üë§</span>
            <span>Proxy Profiles</span>
          </li>
          <li class="nav-item" data-section="rules" role="listitem" tabindex="0" aria-label="Auto-Switch Rules section">
            <span class="icon" aria-hidden="true">üìã</span>
            <span>Auto-Switch Rules</span>
          </li>
          <li class="nav-item" data-section="about" role="listitem" tabindex="0" aria-label="About section">
            <span class="icon" aria-hidden="true">‚ÑπÔ∏è</span>
            <span>About</span>
          </li>
        </ul>
      </nav>

      <!-- Content Area -->
      <main class="content" role="main">
        <!-- Profiles Section -->
        <section id="profiles-section" class="section active">
          <h2>Proxy Profiles</h2>
          <div class="section-header">
            <p class="section-description">Manage your proxy server configurations</p>
            <button id="addProfileBtn" class="btn btn-primary" aria-label="Add new proxy profile">
              <span class="icon" aria-hidden="true">‚ûï</span> Add Profile
            </button>
          </div>

          <div id="profilesList" class="profiles-list">
            <!-- Profiles will be dynamically added here -->
          </div>
        </section>

        <!-- Auto-Switch Rules Section -->
        <section id="rules-section" class="section">
          <h2>Auto-Switch Rules</h2>
          <div class="section-header">
            <p class="section-description">Configure automatic proxy switching based on URL patterns</p>
            <button id="addRuleBtn" class="btn btn-primary">
              <span class="icon">‚ûï</span> Add Rule
            </button>
          </div>

          <div class="rules-controls">
          <label class="switch" for="enableAutoSwitch">
            <input type="checkbox" id="enableAutoSwitch" role="switch" aria-checked="false" aria-label="Enable automatic proxy switching">
            <span class="slider" aria-hidden="true"></span>
            <span class="switch-label">Enable Auto-Switch</span>
          </label>
          </div>

          <div id="rulesList" class="rules-list">
            <!-- Rules will be dynamically added here -->
          </div>
        </section>




        <!-- About Section -->
        <section id="about-section" class="section">
          <h2>About X-Proxy</h2>
          
          <div class="about-content">
            <div class="about-logo">
              <img src="./icons/icon-128.png" alt="X-Proxy">
            </div>
            
            <div class="about-info">
              <h3>X-Proxy v1.0.0</h3>
              <p>A modern proxy switcher for Chrome with HTTP(S) and SOCKS5 support</p>
              
              <div class="about-details">
                <h4>Features:</h4>
                <ul>
                  <li>‚úì Multiple proxy profiles</li>
                  <li>‚úì Auto-switch rules</li>
                  <li>‚úì SOCKS5 & HTTP(S) proxy support</li>
                  <li>‚úì Authentication support</li>
                  <li>‚úì Import/Export configurations</li>
                </ul>
              </div>
              
              <div class="about-links">
                <a href="https://github.com/yourusername/x-proxy" target="_blank" class="link">
                  <span class="icon">üîó</span> GitHub Repository
                </a>
                <a href="#" id="reportBugBtn" class="link">
                  <span class="icon">üêõ</span> Report a Bug
                </a>
                <a href="#" id="requestFeatureBtn" class="link">
                  <span class="icon">üí°</span> Request Feature
                </a>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
      <div class="footer-content">
        <span class="status" id="saveStatus"></span>
        <button id="saveAllBtn" class="btn btn-primary" aria-label="Save all configuration changes">Save All Changes</button>
      </div>
    </footer>
  </div>

  <!-- Profile Modal -->
  <div id="profileModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="profileModalTitle">Add Proxy Profile</h3>
        <button class="modal-close" id="closeProfileModal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="profileForm">
          <div class="form-group">
            <label for="profileName">Profile Name *</label>
            <input type="text" id="profileName" class="form-input" required>
          </div>
          
          <div class="form-group">
            <label for="profileColor">Profile Color</label>
            <div class="color-palette">
              <input type="radio" name="profileColor" id="color-blue" value="#007AFF" checked>
              <label for="color-blue" class="color-option" style="background-color: #007AFF"></label>
              
              <input type="radio" name="profileColor" id="color-green" value="#4CAF50">
              <label for="color-green" class="color-option" style="background-color: #4CAF50"></label>
              
              <input type="radio" name="profileColor" id="color-red" value="#F44336">
              <label for="color-red" class="color-option" style="background-color: #F44336"></label>
              
              <input type="radio" name="profileColor" id="color-orange" value="#FF9800">
              <label for="color-orange" class="color-option" style="background-color: #FF9800"></label>
              
              <input type="radio" name="profileColor" id="color-purple" value="#9C27B0">
              <label for="color-purple" class="color-option" style="background-color: #9C27B0"></label>
              
              <input type="radio" name="profileColor" id="color-teal" value="#009688">
              <label for="color-teal" class="color-option" style="background-color: #009688"></label>
              
              <input type="radio" name="profileColor" id="color-yellow" value="#FFC107">
              <label for="color-yellow" class="color-option" style="background-color: #FFC107"></label>
              
              <input type="radio" name="profileColor" id="color-gray" value="#607D8B">
              <label for="color-gray" class="color-option" style="background-color: #607D8B"></label>
            </div>
          </div>
          
          <div class="form-group">
            <label for="proxyType">Proxy Type *</label>
            <select id="proxyType" class="form-select" required>
              <option value="http">HTTP/HTTPS</option>
              <option value="socks5">SOCKS5</option>
            </select>
          </div>
          
          <div id="proxyDetails" class="proxy-details">
            <div class="form-group">
              <label for="proxyHost">Host *</label>
              <input type="text" id="proxyHost" class="form-input" placeholder="proxy.example.com" required>
            </div>
            
            <div class="form-group">
              <label for="proxyPort">Port *</label>
              <input type="number" id="proxyPort" class="form-input" placeholder="8080" required>
            </div>
            
          </div>
          
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cancelProfileBtn">Cancel</button>
        <button class="btn btn-primary" id="saveProfileBtn">Save Profile</button>
      </div>
    </div>
  </div>

  <!-- Rule Modal -->
  <div id="ruleModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="ruleModalTitle">Add Auto-Switch Rule</h3>
        <button class="modal-close" id="closeRuleModal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="ruleForm">
          <div class="form-group">
            <label for="ruleName">Rule Name *</label>
            <input type="text" id="ruleName" class="form-input" required>
          </div>
          
          <div class="form-group">
            <label for="rulePattern">URL Pattern *</label>
            <input type="text" id="rulePattern" class="form-input" placeholder="*.example.com/*" required>
            <small class="form-help">Use wildcards: * for any characters, ? for single character</small>
          </div>
          
          <div class="form-group">
            <label for="ruleProfile">Use Profile *</label>
            <select id="ruleProfile" class="form-select" required>
              <option value="system">System Proxy</option>
              <!-- Profiles will be added dynamically -->
            </select>
          </div>
          
          <div class="form-group">
            <label for="rulePriority">Priority</label>
            <input type="number" id="rulePriority" class="form-input" min="0" max="999" value="10">
            <small class="form-help">Higher priority rules are checked first</small>
          </div>
          
          <div class="form-group">
            <label for="ruleEnabled">Rule Status</label>
            <label class="switch">
              <input type="checkbox" id="ruleEnabled" checked>
              <span class="slider"></span>
              <span class="switch-label">Enabled</span>
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cancelRuleBtn">Cancel</button>
        <button class="btn btn-primary" id="saveRuleBtn">Save Rule</button>
      </div>
    </div>
  </div>

  <!-- Import/Export file inputs removed (features offline) -->

  <script src="options.js" type="module"></script>
</body>
</html>
